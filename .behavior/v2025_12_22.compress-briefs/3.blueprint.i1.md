# blueprint: compress and restructure mechanic briefs

## target structure

```
briefs/
  practices/
    $surdomain/
      $subdomain/
        $directive.$topic.md
```

### surdomains
- `code.prod` = production codepaths
- `code.test` = test codepaths
- `work.flow` = workflows; how to approach work (subdomains: debug, refactor, tools)
- `lang.terms` = ubiquitous language terms
- `lang.tones` = tone guidelines

### file prefixes

**rules** (pattern: `rule.$directive.$topic.md`)
- `rule.require` = mandatory, blocker if violated
- `rule.prefer` = best practice, nitpick if violated
- `rule.avoid` = discouraged, nitpick if detected
- `rule.forbid` = banned, blocker if detected

**other content types**
- `ref.` = reference documentation (e.g., package readmes)
- `howto.` = procedural how-to guides
- `define.` = term/concept definitions

### special suffixes
- `[ref]` = reference documentation
- `[demo]` = demonstration with examples
- `[lesson]` = educational content
- `[seed]` = motivational/seed content

---

## proposed file mapping

### code.prod/evolvable.architecture/

```
rule.require.bounded-contexts.md
  <- architecture/bounded-contexts.md

rule.require.domain-driven-design.md
  <- architecture/domain-driven-design.md
```

### code.prod/evolvable.procedures/

```
rule.require.arrow-only.md
  <- codestyle/mech.arrowonly.md
  <- codestyle/_mech.compressed.md [funcs:arrow-only section]

rule.require.input-context-pattern.md
  <- codestyle/mech.args.input-context.md ✓
  <- codestyle/mech.args.input-inline.md
  <- codestyle/_mech.compressed.md [args:input-context section]

rule.require.named-args.md
  <- patterns/code.prod.contract.inputs.nameargs/best-practice/require.namedargs.md

rule.forbid.positional-args.md
  <- patterns/code.prod.contract.inputs.nameargs/bad-practice/forbid.positional-args.md
  <- patterns/code.prod.domain.operations/bad-practices/forbid.ordered-args.md [MERGE - same topic]

rule.require.single-responsibility.md
  <- codestyle/flow.single-responsibility.md

rule.require.clear-contracts.md
  <- codestyle/mech.clear-contracts.md

rule.require.dependency-injection.md
  <- engineer/dependency-injection.md ✓
  <- engineer/dependency-injection.stub.md [STUB, merge into main]
```

### code.prod/evolvable.domain.operations/

```
rule.require.sync-filename-opname.md
  <- patterns/code.prod.domain.operations/best-practice/require.sync.names.md
```

### code.prod/readable.comments/

```
rule.require.what-why-headers.md
  <- codestyle/mech.what-why.v2.md ✓ (refined, with enforcement rules)

rule.require.what-why-headers.v1.md
  <- codestyle/mech.what-why.md (original, more examples)
```

### code.prod/readable.narrative/

```
rule.require.narrative-flow.md
  <- codestyle/flow.narratives.md

rule.forbid.else-branches.md
  <- patterns/code.prod.narrative/bad-practices/forbid.else.v2.md ✓ (concise rule)

rule.forbid.else-branches.[demo].md
  <- patterns/code.prod.narrative/bad-practices/forbid.else.md (verbose with refactor demo)

rule.avoid.unnecessary-ifs.md
  <- patterns/code.prod.narrative/bad-practices/avoid.ifs.md

rule.prefer.early-returns.[demo].md
  <- patterns/code.prod.narrative/best-practice/early-returns.named-checks.[demo].md

rule.prefer.transformers-over-conditionals.[lesson].md
  <- codestyle/flow.transformers_over_conditionals.[lesson].md
```

### code.prod/consistent.artifacts/

```
rule.require.pinned-versions.md
  <- criteria.practices/require.dependency.pinned_versions.md
```

### code.prod/consistent.contracts/

```
ref.package.as-command.[ref].md
  <- patterns/code.prod.typescript.utils/best-practice/ref.package.as-command.[tips].md
```

### code.prod/evolvable.domain.objects/

```
rule.forbid.nullable-without-reason.md
  <- patterns/code.prod.domain.objects/bad-practices/blocker.has.attributes.nullable.md

rule.forbid.undefined-attributes.md
  <- patterns/code.prod.domain.objects/bad-practices/blocker.has.attributes.undefined.md

rule.require.immutable-refs.md
  <- patterns/code.prod.domain.objects/bad-practices/blocker.refs.immuatble.md

ref.package.domain-objects.[ref].md
  <- patterns/code.prod.domain.objects/best-practice/ref.package.domain.objects.[readme].md
```

### code.prod/pitofsuccess.procedures/

```
rule.require.pitofsuccess.md
  <- codestyle/pit-of-success.via.minimize-surface-area.md
  .what = describes the pit-of-success design philosophy
  .why = explains why pitofsuccess patterns exist - to make success the default outcome

rule.require.idempotent-procedures.md
  <- codestyle/flow.idempotency.md ✓ (more structured)

rule.require.idempotency.[seed].md
  <- criteria.practices/require.idempotency.md (motivational/seed content with findsert/upsert patterns)

rule.require.immutable-vars.md
  <- codestyle/flow.immutability.md
```

### code.prod/pitofsuccess.errors/

```
rule.require.fail-fast.md
  <- codestyle/flow.failfast.md ✓ (more structured)

rule.require.fail-fast.[seed].md
  <- patterns/code.prod.errors.failfast/best-practice/require.fail_fast.md (motivational/seed content)

rule.prefer.helpful-error-wrap.md
  <- patterns/code.prod.errors.failfast/best-practice/prefer.HelpfulError.wrap.md

rule.require.fail-fast.[demo].shell.md
  <- patterns/code.prod.errors.failfast/best-practice/require.fail_fast.[demo].shell.md

rule.forbid.error-hiding.md
  <- patterns/code.prod.errors.failfast/bad-practices/forbid.failhide.md ✓
  <- patterns/code.prod.errors.failfast/bad-practices/forbid.hide_errors.md [DUPLICATE - merge into forbid.error-hiding]
```

### code.prod/readable.persistence/

```
rule.prefer.declastruct.[demo].md
  <- patterns/code.prod.declarative/best-practice/declastruct.[demo].md
  <- patterns/code.prod.declarative/.readme.md [EMPTY, delete]
```

### code.prod/evolvable.repo.structure/

```
rule.require.directional-deps.md
  <- architecture/directional-dependencies.md ✓
  <- patterns/code.prod.repo.structure/best-practice/directional-dependencies.md [DUPLICATE]

rule.forbid.barrel-exports.md
  <- patterns/code.prod.repo.structure/bad-practices/forbid.barrel.exports.ts.md

rule.forbid.index-ts.md
  <- patterns/code.prod.repo.structure/bad-practices/forbid.index.ts.md

rule.prefer.dot-dirs.md
  <- patterns/code.prod.repo.structure/best-practice/dot-test-and-dot-temp.md
```

### code.prod/pitofsuccess.typedefs/

```
rule.require.shapefit.md
  <- [NEW] types should be well-defined and naturally fit; if they don't, there's a legitimate defect to resolve

rule.forbid.as-cast.md
  <- [NEW] using `as X` is a flare that rule.require.shapefit has been violated
  .exception = at boundaries with external org code that lacks proper typedefs; must document via comments why this hazard is necessary

define.bivariance-for-generics.[lesson].md
  <- lessons/code.prod.typescript.types/bivariance_vs_contravariance.[lesson].md
```

---

### code.test/scope.acceptance/

```
rule.require.blackbox.md
  <- patterns/code.test.acceptance/best-practice/blackbox.md
```

### code.test/frames.behavior/

```
rule.require.given-when-then.md
  <- codestyle/mech.tests.given-when-then.md

howto.write-bdd.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.write.bdd.[lesson].md
```

### code.test/frames.caselist/

```
rule.prefer.data-driven.md
  <- patterns/code.test.howto/best-practice/prefer.datadriven.md
```

### code.test/consistent.contracts/

```
ref.package.test-fns.[ref].md
  <- patterns/code.test.howto/best-practice/ref.test-fns.[readme].md
```

### code.test/lessons.howto/

```
howto.diagnose.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.diagnose.[lesson].md

howto.run.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.run.[lesson].md

howto.use.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.use.[lesson].md

howto.write.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.write.[lesson].md
  <- patterns/code.test.howto/best-practice/howto.write.[lesson].on_scope.for_units.md [MERGE]
  <- patterns/code.test.howto/best-practice/howto.write.[lesson].on_scope.for_integ.md [MERGE]

rule.require.snapshots.[lesson].md
  <- patterns/code.test.howto/best-practice/whento.snapshots.[lesson].md
```

---

### work.flow/diagnose/

```
rule.forbid.trust-vscode-diagnostics.md
  <- patterns/flow.debug.diagnostics/bad-practices/forbid.trust_vscode.md
```

### work.flow/refactor/

```
rule.require.review-test-changes.md
  <- patterns/flow.refact.questions/best-practice/require.testchange.review.md
```

### work.flow/tools/

```
rule.prefer.jq.[demo].md
  <- criteria.practices/prefer.jq.over_alt.[demo].md

rule.prefer.terraform.md
  <- criteria.practices/prefer.terraform.[criteria].md
  <- criteria.practices/prefer.terraform.[seed].md [MERGE]

rule.require.externalized-knowledge.md
  <- criteria.practices/require.knowledge.externalized.md
```

---

### lang.terms/

```
rule.forbid.term=existing.md
  <- patterns/lang.terms/bad-practices/forbid.term=existing.md

rule.forbid.term-script.md
  <- criteria.practices/never.term.script.md ✓
  <- terms/badpractice/script.md [DUPLICATE]

rule.require.order.noun_adj.md
  <- patterns/lang.terms/best-practice/require.order.noun_adj.md

rule.require.ubiqlang.md
  <- style.names.ubiqlang.md ✓
  <- architecture/ubiqlang.md [DUPLICATE, minor diff]
  <- style.compressed.md [name:ubiqlang section]

rule.require.treestruct.md
  <- style.names.treestruct.md
  <- style.compressed.md [name:treestruct section]

define.directives.terms=forbid_avoid_prefer_require.md
  <- patterns/lang.terms/domain=practices.terms=forbid_prefer_desire_require.md

define.prodcode-testcode.terms=prodcode_vs_testcode.md
  <- patterns/lang.terms/domain=software.terms=prodcode_vs_testcode.md

define.exec-vs-apply.md
  <- terms/plan.exec_vs_apply.md
```

### lang.tones/

```
rule.prefer.lowercase.md
  <- style.words.lowercase.md
  <- patterns/lang.tones/prefer.lowercase.md [OVERLAP, likely empty]
  <- style.compressed.md [words:lowercase section]

rule.prefer.chill-nature-emojis.md
  <- criteria.practices/prefer.emojis.chill_nature.md
  <- patterns/lang.tones/prefer.chill-nature.md [OVERLAP, may be empty]
```

---

## approach: no deletes, use .ptN.md parts for multi-source targets

- **single source → target**: rename directly (e.g., `source.md` → `rule.require.x.md`)
- **multiple sources → target**: use parts pattern:
  1. create empty placeholder at target path (e.g., `rule.require.x.md`)
  2. move source files as numbered parts (e.g., `rule.require.x.md.pt1.md`, `rule.require.x.md.pt2.md`)
  3. blend parts into root file in a separate step

this preserves all source content for review before final merge.

---

## summary of duplicates/merges

| status | count | description |
|--------|-------|-------------|
| EXACT DUPE → ARCHIVE | 1 | identical file → .archive/, primary becomes target directly |
| MULTI-SOURCE → PARTS | 10 | multiple sources with different content → .ptN.md parts for blending |
| VERSION VARIANTS | 2 | v1/v2 of same topic → KEEP BOTH (v1 has examples, v2 has rules) |
| SEED/RULE PAIRS | 2 | motivational seed + structured rule → KEEP BOTH |
| POSITIVE/NEGATIVE | 3 | require + forbid for same topic → KEEP BOTH |
| META/EMPTY → ARCHIVE | 5 | prompts or empty readmes → .archive/ for reference |

### exact duplicates (archive the duplicate)
1. `directional-dependencies.md` - architecture/ → target, patterns/ → .archive/

### multi-source targets (use .ptN.md parts for content that differs)
1. `rule.require.ubiqlang.md` ← style.names + architecture/ (minor wording diff)
2. `rule.forbid.term-script.md` ← criteria.practices + terms/badpractice (different framing)
3. `rule.forbid.error-hiding.md` ← forbid.failhide + forbid.hide_errors (different content)
4. `rule.require.input-context-pattern.md` ← mech.args.input-context + mech.args.input-inline
5. `rule.require.dependency-injection.md` ← dependency-injection + dependency-injection.stub
6. `rule.forbid.positional-args.md` ← forbid.positional-args + forbid.ordered-args
7. `rule.prefer.terraform.md` ← terraform.[criteria] + terraform.[seed]
8. `rule.prefer.chill-nature-emojis.md` ← prefer.emojis.chill_nature + prefer.chill-nature
9. `rule.prefer.lowercase.md` ← style.words.lowercase + prefer.lowercase
10. `howto.write.[lesson].md` ← howto.write + on_scope.for_integ + on_scope.for_units

### version variants (keep both)
1. `mech.what-why.md` → `rule.require.what-why-headers.v1.md` (examples)
2. `mech.what-why.v2.md` → `rule.require.what-why-headers.md` (rules)
3. `forbid.else.md` → `rule.forbid.else-branches.[demo].md` (refactor demo)
4. `forbid.else.v2.md` → `rule.forbid.else-branches.md` (concise rule)

### seed/rule pairs (keep both)
1. `rule.require.fail-fast.md` (structured) + `rule.require.fail-fast.[seed].md` (motivational)
2. `rule.require.idempotent-procedures.md` (structured) + `rule.require.idempotency.[seed].md` (patterns)

### positive/negative pairs (keep both in evolvable.procedures/)
1. `rule.require.input-context-pattern.md` + `rule.forbid.positional-args.md`
2. `rule.require.named-args.md` + `rule.forbid.positional-args.md`

### related forbids (keep both in evolvable.repo.structure/)
1. `rule.forbid.barrel-exports.md` + `rule.forbid.index-ts.md`

---

## final tree preview

```
briefs/
  practices/
    code.prod/
      evolvable.architecture/
        rule.require.bounded-contexts.md
        rule.require.domain-driven-design.md
      evolvable.procedures/
        rule.require.arrow-only.md
        rule.require.input-context-pattern.md
        rule.require.named-args.md
        rule.forbid.positional-args.md
        rule.require.single-responsibility.md
        rule.require.clear-contracts.md
        rule.require.dependency-injection.md
      evolvable.domain.operations/
        rule.require.sync-filename-opname.md
      evolvable.domain.objects/
        rule.forbid.nullable-without-reason.md
        rule.forbid.undefined-attributes.md
        rule.require.immutable-refs.md
        ref.package.domain-objects.[ref].md
      readable.persistence/
        rule.prefer.declastruct.[demo].md
      evolvable.repo.structure/
        rule.require.directional-deps.md
        rule.forbid.barrel-exports.md
        rule.forbid.index-ts.md
        rule.prefer.dot-dirs.md
      consistent.artifacts/
        rule.require.pinned-versions.md
      consistent.contracts/
        ref.package.as-command.[ref].md
      readable.comments/
        rule.require.what-why-headers.md
        rule.require.what-why-headers.v1.md
      readable.narrative/
        rule.require.narrative-flow.md
        rule.forbid.else-branches.md
        rule.forbid.else-branches.[demo].md
        rule.avoid.unnecessary-ifs.md
        rule.prefer.early-returns.[demo].md
        rule.prefer.transformers-over-conditionals.[lesson].md
      pitofsuccess.procedures/
        rule.require.pitofsuccess.md
        rule.require.idempotent-procedures.md
        rule.require.idempotency.[seed].md
        rule.require.immutable-vars.md
      pitofsuccess.errors/
        rule.require.fail-fast.md
        rule.require.fail-fast.[seed].md
        rule.prefer.helpful-error-wrap.md
        rule.require.fail-fast.[demo].shell.md
        rule.forbid.error-hiding.md
      pitofsuccess.typedefs/
        rule.require.shapefit.md
        rule.forbid.as-cast.md
        define.bivariance-for-generics.[lesson].md
    code.test/
      scope.acceptance/
        rule.require.blackbox.md
      frames.behavior/
        rule.require.given-when-then.md
        howto.write-bdd.[lesson].md
      frames.caselist/
        rule.prefer.data-driven.md
      consistent.contracts/
        ref.package.test-fns.[ref].md
      lessons.howto/
        howto.diagnose.[lesson].md
        howto.run.[lesson].md
        howto.use.[lesson].md
        howto.write.[lesson].md
        rule.require.snapshots.[lesson].md
    work.flow/
      debug/
        rule.forbid.trust-vscode-diagnostics.md
      refactor/
        rule.require.review-test-changes.md
      tools/
        rule.prefer.jq.[demo].md
        rule.prefer.terraform.md
        rule.require.externalized-knowledge.md
    lang.terms/
      .readme.md
      rule.forbid.term=existing.md
      rule.forbid.term-script.md
      rule.require.order.noun_adj.md
      rule.require.ubiqlang.md
      rule.require.treestruct.md
      define.directives.terms=forbid_avoid_prefer_require.md
      define.prodcode-testcode.terms=prodcode_vs_testcode.md
      define.exec-vs-apply.md
    lang.tones/
      .readme.md
      rule.prefer.lowercase.md
      rule.prefer.chill-nature-emojis.md
```

---

## current → target mapping (treestruct)

```
CURRENT                                                          → TARGET
─────────────────────────────────────────────────────────────────────────────────────────
architecture/
  bounded-contexts.md                                            → code.prod/evolvable.architecture/rule.require.bounded-contexts.md
  directional-dependencies.md                                    → code.prod/evolvable.repo.structure/rule.require.directional-deps.md
  domain-driven-design.md                                        → code.prod/evolvable.architecture/rule.require.domain-driven-design.md
  ubiqlang.md                                                    → lang.terms/rule.require.ubiqlang.md.pt2.md

codestyle/
  _mech.compressed.md                                            → .archive/_mech.compressed.md
  _mech.compressed.prompt.md                                     → .archive/_mech.compressed.prompt.md
  flow.failfast.md                                               → code.prod/pitofsuccess.errors/rule.require.fail-fast.md
  flow.idempotency.md                                            → code.prod/pitofsuccess.procedures/rule.require.idempotent-procedures.md
  flow.immutability.md                                           → code.prod/pitofsuccess.procedures/rule.require.immutable-vars.md
  flow.narratives.md                                             → code.prod/readable.narrative/rule.require.narrative-flow.md
  flow.single-responsibility.md                                  → code.prod/evolvable.procedures/rule.require.single-responsibility.md
  flow.transformers_over_conditionals.[lesson].md                → code.prod/readable.narrative/rule.prefer.transformers-over-conditionals.[lesson].md
  mech.args.input-context.md                                     → code.prod/evolvable.procedures/rule.require.input-context-pattern.md.pt1.md
  mech.args.input-inline.md                                      → code.prod/evolvable.procedures/rule.require.input-context-pattern.md.pt2.md
  mech.arrowonly.md                                              → code.prod/evolvable.procedures/rule.require.arrow-only.md
  mech.clear-contracts.md                                        → code.prod/evolvable.procedures/rule.require.clear-contracts.md
  mech.tests.given-when-then.md                                  → code.test/frames.behavior/rule.require.given-when-then.md
  mech.what-why.md                                               → code.prod/readable.comments/rule.require.what-why-headers.v1.md
  mech.what-why.v2.md                                            → code.prod/readable.comments/rule.require.what-why-headers.md
  pit-of-success.via.minimize-surface-area.md                    → code.prod/pitofsuccess.procedures/rule.require.pitofsuccess.md

criteria.practices/
  never.term.script.md                                           → lang.terms/rule.forbid.term-script.md.pt1.md
  prefer.emojis.chill_nature.md                                  → lang.tones/rule.prefer.chill-nature-emojis.md.pt1.md
  prefer.jq.over_alt.[demo].md                                   → work.flow/tools/rule.prefer.jq.[demo].md
  prefer.terraform.[criteria].md                                 → work.flow/tools/rule.prefer.terraform.md.pt1.md
  prefer.terraform.[seed].md                                     → work.flow/tools/rule.prefer.terraform.md.pt2.md
  require.dependency.pinned_versions.md                          → code.prod/consistent.artifacts/rule.require.pinned-versions.md
  require.idempotency.md                                         → code.prod/pitofsuccess.procedures/rule.require.idempotency.[seed].md
  require.knowledge.externalized.md                              → work.flow/tools/rule.require.externalized-knowledge.md

engineer/
  dependency-injection.md                                        → code.prod/evolvable.procedures/rule.require.dependency-injection.md.pt1.md
  dependency-injection.stub.md                                   → code.prod/evolvable.procedures/rule.require.dependency-injection.md.pt2.md

lessons/
  code.prod.typescript.types/
    bivariance_vs_contravariance.[lesson].md                     → code.prod/pitofsuccess.typedefs/define.bivariance-for-generics.[lesson].md

patterns/
  code.prod.contract.inputs.nameargs/
    bad-practice/forbid.positional-args.md                       → code.prod/evolvable.procedures/rule.forbid.positional-args.md.pt1.md
    best-practice/require.namedargs.md                           → code.prod/evolvable.procedures/rule.require.named-args.md
  code.prod.declarative/
    .readme.md                                                   → .archive/code.prod.declarative.readme.md
    best-practice/declastruct.[demo].md                          → code.prod/readable.persistence/rule.prefer.declastruct.[demo].md
  code.prod.domain.objects/
    bad-practices/blocker.has.attributes.nullable.md             → code.prod/evolvable.domain.objects/rule.forbid.nullable-without-reason.md
    bad-practices/blocker.has.attributes.undefined.md            → code.prod/evolvable.domain.objects/rule.forbid.undefined-attributes.md
    bad-practices/blocker.refs.immuatble.md                      → code.prod/evolvable.domain.objects/rule.require.immutable-refs.md
    best-practice/ref.package.domain.objects.[readme].md         → code.prod/evolvable.domain.objects/ref.package.domain-objects.[ref].md
  code.prod.domain.operations/
    bad-practices/forbid.ordered-args.md                         → code.prod/evolvable.procedures/rule.forbid.positional-args.md.pt2.md
    best-practice/require.sync.names.md                          → code.prod/evolvable.domain.operations/rule.require.sync-filename-opname.md
  code.prod.errors.failfast/
    bad-practices/forbid.failhide.md                             → code.prod/pitofsuccess.errors/rule.forbid.error-hiding.md.pt1.md
    bad-practices/forbid.hide_errors.md                          → code.prod/pitofsuccess.errors/rule.forbid.error-hiding.md.pt2.md
    best-practice/prefer.HelpfulError.wrap.md                    → code.prod/pitofsuccess.errors/rule.prefer.helpful-error-wrap.md
    best-practice/require.fail_fast.md                           → code.prod/pitofsuccess.errors/rule.require.fail-fast.[seed].md
    best-practice/require.fail_fast.[demo].shell.md              → code.prod/pitofsuccess.errors/rule.require.fail-fast.[demo].shell.md
  code.prod.narrative/
    bad-practices/avoid.ifs.md                                   → code.prod/readable.narrative/rule.avoid.unnecessary-ifs.md
    bad-practices/forbid.else.md                                 → code.prod/readable.narrative/rule.forbid.else-branches.[demo].md
    bad-practices/forbid.else.v2.md                              → code.prod/readable.narrative/rule.forbid.else-branches.md
    best-practice/early-returns.named-checks.[demo].md           → code.prod/readable.narrative/rule.prefer.early-returns.[demo].md
  code.prod.repo.structure/
    bad-practices/forbid.barrel.exports.ts.md                    → code.prod/evolvable.repo.structure/rule.forbid.barrel-exports.md
    bad-practices/forbid.index.ts.md                             → code.prod/evolvable.repo.structure/rule.forbid.index-ts.md
    best-practice/directional-dependencies.md                    → .archive/patterns.directional-dependencies.md [EXACT DUPE]
    best-practice/dot-test-and-dot-temp.md                       → code.prod/evolvable.repo.structure/rule.prefer.dot-dirs.md
  code.prod.typescript.utils/
    best-practice/ref.package.as-command.[tips].md               → code.prod/consistent.contracts/ref.package.as-command.[ref].md
  code.test.acceptance/
    best-practice/blackbox.md                                    → code.test/scope.acceptance/rule.require.blackbox.md
  code.test.howto/
    best-practice/howto.diagnose.[lesson].md                     → code.test/lessons.howto/howto.diagnose.[lesson].md
    best-practice/howto.run.[lesson].md                          → code.test/lessons.howto/howto.run.[lesson].md
    best-practice/howto.use.[lesson].md                          → code.test/lessons.howto/howto.use.[lesson].md
    best-practice/howto.write.[lesson].md                        → code.test/lessons.howto/howto.write.[lesson].md.pt1.md
    best-practice/howto.write.[lesson].on_scope.for_integ.md     → code.test/lessons.howto/howto.write.[lesson].md.pt2.md
    best-practice/howto.write.[lesson].on_scope.for_units.md     → code.test/lessons.howto/howto.write.[lesson].md.pt3.md
    best-practice/howto.write.bdd.[lesson].md                    → code.test/frames.behavior/howto.write-bdd.[lesson].md
    best-practice/prefer.datadriven.md                           → code.test/frames.caselist/rule.prefer.data-driven.md
    best-practice/ref.test-fns.[readme].md                       → code.test/consistent.contracts/ref.package.test-fns.[ref].md
    best-practice/whento.snapshots.[lesson].md                   → code.test/lessons.howto/rule.require.snapshots.[lesson].md
  flow.debug.diagnostics/
    bad-practices/forbid.trust_vscode.md                         → work.flow/diagnose/rule.forbid.trust-vscode-diagnostics.md
  flow.refact.questions/
    best-practice/require.testchange.review.md                   → work.flow/refactor/rule.require.review-test-changes.md
  lang.terms/
    .readme.md                                                   → lang.terms/.readme.md
    bad-practices/forbid.term=existing.md                        → lang.terms/rule.forbid.term=existing.md
    best-practice/require.order.noun_adj.md                      → lang.terms/rule.require.order.noun_adj.md
    domain=practices.terms=forbid_prefer_desire_require.md       → lang.terms/define.directives.terms=forbid_avoid_prefer_require.md
    domain=software.terms=prodcode_vs_testcode.md                → lang.terms/define.prodcode-testcode.terms=prodcode_vs_testcode.md
  lang.tones/
    .readme.md                                                   → lang.tones/.readme.md
    prefer.chill-nature.md                                       → lang.tones/rule.prefer.chill-nature-emojis.md.pt2.md
    prefer.lowercase.md                                          → lang.tones/rule.prefer.lowercase.md.pt2.md

style.compressed.md                                              → .archive/style.compressed.md
style.compressed.prompt.md                                       → .archive/style.compressed.prompt.md
style.names.treestruct.md                                        → lang.terms/rule.require.treestruct.md
style.names.ubiqlang.md                                          → lang.terms/rule.require.ubiqlang.md.pt1.md
style.words.lowercase.md                                         → lang.tones/rule.prefer.lowercase.md.pt1.md

terms/
  badpractice/script.md                                          → lang.terms/rule.forbid.term-script.md.pt2.md
  plan.exec_vs_apply.md                                          → lang.terms/define.exec-vs-apply.md

```

---

## counts

| category | count |
|----------|-------|
| total source files | 83 |
| files moved to .archive/ | 6 |
| files renamed as .ptN.md parts | 21 |
| new files to create | 2 |
| files moved/renamed (single source) | 54 |

note: no files deleted; exact dupes archived; differing sources become .ptN.md parts for later blending
