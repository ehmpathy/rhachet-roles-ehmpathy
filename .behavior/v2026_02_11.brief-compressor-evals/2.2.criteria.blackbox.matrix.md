# blackbox coverage matrix: brief compressor evals

## matrix.1 — comparison execution

covers usecase.1 and usecase.2

| ind: combination | ind: brief type | ind: run# | dep: tested | dep: parallel | dep: stats in report |
|------------------|-----------------|-----------|-------------|---------------|----------------------|
| [sitrep] | rule | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep] | concept | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep] | lesson | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep] | tactic | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc] | rule | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc] | concept | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc] | lesson | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc] | tactic | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [tsc, sitrep] | rule | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [tsc, sitrep] | concept | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [tsc, sitrep] | lesson | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [tsc, sitrep] | tactic | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc, sitrep] | rule | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc, sitrep] | concept | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc, sitrep] | lesson | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |
| [sitrep, tsc, sitrep] | tactic | 1,2,3 | ✅ | ✅ | mean, min, max, stddev |

**total compressions**: 4 combinations × 4 brief types × 3 runs = **48 compressions**

**gaps**: none — all combinations covered

---

## matrix.2 — report outputs

covers usecase.1 (report phase) and usecase.5

| ind: eval state | dep: ranked table | dep: total duration | dep: sample size | dep: avg per compression |
|-----------------|-------------------|---------------------|------------------|--------------------------|
| complete | ✅ by mean ratio | ✅ wall-clock | ✅ briefs × combos × runs | ✅ derivable |
| partial (some failures) | ✅ excludes failed | ✅ wall-clock | ✅ actual vs expected | ✅ derivable |

**gaps**: none

---

## matrix.3 — sample coverage

covers usecase.3

| ind: sample size | ind: brief types | dep: included | dep: note shown |
|------------------|------------------|---------------|-----------------|
| 1 brief | single type | ✅ | ⚠️ "may not be representative" |
| 2+ briefs | single type | ✅ | ❌ no note |
| 2+ briefs | multiple types | ✅ | ❌ no note |

**gaps**: none — note only for minimal sample

---

## matrix.4 — error conditions

covers usecase.4

| ind: error type | ind: scope | dep: error reported | dep: other runs continue | dep: combo marked failed |
|-----------------|------------|---------------------|--------------------------|--------------------------|
| timeout | single run | ✅ for that run | ✅ | ❌ |
| timeout | all runs for combo | ✅ for each run | n/a | ✅ |
| empty output | single run | ✅ with message | ✅ | ❌ |
| empty output | all runs for combo | ✅ for each run | n/a | ✅ |

**gaps**: none — partial failure resilience covered

---

## decomposition analysis

**dimensions per matrix**:
- matrix.1: 3 independent variables (combination, brief type, run#) — acceptable
- matrix.2: 1 independent variable — simple
- matrix.3: 2 independent variables — simple
- matrix.4: 2 independent variables — simple

**no decomposition needed** — all matrices have ≤3 independent dimensions and reasonable combination counts.

---

## coverage summary

| matrix | combinations | gaps |
|--------|--------------|------|
| comparison execution | 48 | 0 |
| report outputs | 2 | 0 |
| sample coverage | 3 | 0 |
| error conditions | 4 | 0 |

**total blackbox scenarios**: 57 combinations, 0 gaps
