# proposal: additional say-to-ref demotions in boot.yml

## .what

further reduce token footprint by reclassification of ~38 say briefs to ref across subjects.

## .why

current boot.yml (all subjects) uses ~38k tokens. many say briefs are either:
- self-evident from their title alone (e.g., `rule.require.named-args`)
- reference-heavy docs better suited as ref (e.g., `ref.package.domain-objects.[ref]`)
- short enough that the title conveys the rule (e.g., `rule.forbid.index-ts`)
- examples/demos the mechanic can fetch on demand

estimated result: ~38k -> ~16k tokens (additional ~58% reduction).

## .proposed demotions

### always (7 demotions -> ~3,184 tokens saved)

**keep as say** (core identity + most impactful rules):
- `rule.im_an.ehmpathy_seaturtle.md` -- identity, must be internalized
- `rule.prefer.lowercase.md` -- pervasive output rule
- `rule.require.term-human.md` -- pervasive communication rule
- `rule.forbid.gerunds.md` -- pervasive, non-obvious rule
- `rule.require.ubiqlang.md` -- pervasive, foundational

**demote to ref**:
| brief | ~tokens saved | rationale |
|-------|---------------|-----------|
| `define.why-seaturtles-love-software.md` | ~1,127 | flavor doc, not operationally critical |
| `rule.require.treestruct.md` | ~668 | reference-heavy, better as lookup |
| `rule.forbid.shouts.md` | ~623 | self-evident from title |
| `rule.forbid.buzzwords.md` | ~440 | self-evident from title |
| `rule.prefer.chill-nature-emojis.md` | ~122 | short, self-evident from title |
| `rule.require.order.noun_adj.md` | ~108 | pattern is clear from title + one example |
| `define.directives.terms=forbid_avoid_prefer_require.md` | ~98 | short definitions, learnable fast |

### subject.code.prod (23 demotions -> ~16,433 tokens saved)

**keep as say** (core patterns that require full context):
- `rule.require.input-context-pattern.md.pt1.md` -- core pattern
- `rule.require.input-options-pattern.md` -- core pattern
- `rule.require.dependency-injection.md.pt1.md` -- core pattern
- `rule.require.hook-wrapper-pattern.md` -- non-obvious pattern
- `rule.forbid.io-as-domain-objects.md` -- non-obvious, needs examples
- `rule.forbid.io-as-interfaces.md` -- non-obvious, needs examples
- `rule.forbid.error-hiding.md.pt1.md` -- critical safety rule
- `rule.prefer.helpful-error-wrap.md` -- non-obvious api pattern
- `rule.require.fail-fast.md` -- critical with code examples
- `rule.forbid.nonidempotent-mutations.md` -- complex verb table needed
- `rule.forbid.undefined-inputs.md` -- non-obvious distinction from null
- `rule.require.narrative-flow.md` -- non-obvious code paragraph pattern
- `rule.require.what-why-headers.md` -- format template needed
- `rule.require.idempotent-procedures.md` -- critical safety rule

**demote to ref**:
| brief | ~tokens saved | rationale |
|-------|---------------|-----------|
| `ref.package.domain-objects.[ref].md` | ~4,717 | already a [ref] doc by convention |
| `rule.prefer.declastruct.[demo].md` | ~3,935 | already a [demo] doc by convention |
| `rule.prefer.wet-over-dry.md` | ~1,071 | well-known principle, title sufficient |
| `rule.require.directional-deps.md` | ~922 | architecture diagram, better as lookup |
| `rule.require.domain-driven-design.md` | ~809 | well-known concept |
| `rule.require.bounded-contexts.md` | ~751 | well-known ddd concept |
| `rule.require.immutable-vars.md` | ~557 | well-known principle |
| `rule.forbid.as-cast.md` | ~532 | self-evident from title |
| `rule.require.single-responsibility.md` | ~469 | well-known principle |
| `rule.require.shapefit.md` | ~431 | short, complements as-cast rule |
| `rule.require.clear-contracts.md` | ~392 | self-evident from title |
| `rule.require.arrow-only.md` | ~326 | self-evident from title |
| `rule.forbid.positional-args.md.pt1.md` | ~223 | inverse of named-args, redundant as say |
| `rule.forbid.barrel-exports.md` | ~164 | self-evident from title |
| `rule.forbid.undefined-attributes.md` | ~130 | short, self-evident |
| `rule.avoid.unnecessary-ifs.md` | ~108 | self-evident from title |
| `rule.forbid.nullable-without-reason.md` | ~84 | short, self-evident |
| `rule.require.immutable-refs.md` | ~74 | short, self-evident |
| `rule.require.sync-filename-opname.md` | ~72 | short, self-evident |
| `rule.require.named-args.md` | ~59 | self-evident from title |
| `rule.require.pinned-versions.md` | ~47 | short, self-evident |
| `rule.forbid.index-ts.md` | ~42 | self-evident from title |
| `rule.forbid.else-branches.md` | ~40 | self-evident from title |

### subject.code.test (8 demotions -> ~2,658 tokens saved)

**keep as say**:
- `rule.require.given-when-then.md` -- core test structure with import examples
- `rule.require.useThen-useWhen-for-shared-results.md` -- non-obvious api, needs full context

**demote to ref**:
| brief | ~tokens saved | rationale |
|-------|---------------|-----------|
| `rule.forbid.remote-boundaries.md` | ~1,333 | well-known unit test principle |
| `rule.forbid.redundant-expensive-operations.md` | ~734 | follows from useThen pattern |
| `rule.prefer.data-driven.md` | ~201 | self-evident from title + one example |
| `rule.require.snapshots.[lesson].md` | ~181 | self-evident from title |
| `howto.write.[lesson].md.pt3.md` | ~75 | short, just "test unique behaviors" |
| `howto.write.[lesson].md.pt2.md` | ~71 | short, just "collocate, never mock" |
| `rule.require.blackbox.md` | ~40 | self-evident from title |
| `howto.write.[lesson].md.pt1.md` | ~23 | short, just "use test-fns imports" |

### subject.arch -- no changes

all 5 briefs are already essential for architecture work.

### subject.flow -- no changes

already well-tuned mix of say and ref.

## .token savings summary

| subject | demotions | tokens saved | biggest contributors |
|---------|-----------|-------------|---------------------|
| always | 7 | ~3,184 | seaturtles doc (1,127), treestruct (668), shouts (623) |
| code.prod | 23 | ~16,433 | domain-objects ref (4,717), declastruct demo (3,935), wet-over-dry (1,071) |
| code.test | 8 | ~2,658 | remote-boundaries (1,333), redundant-ops (734) |
| **total** | **38** | **~22,275** | top 5 briefs = ~11,783 (53% of total savings) |

## .estimated token impact

| scenario | current | proposed | delta |
|----------|---------|----------|-------|
| always only | ~4k | ~2k | -50% |
| always + code.test | ~10k | ~5k | -50% |
| always + code.prod | ~32k | ~16k | -50% |
| always + all subjects | ~38k | ~16k | -58% |

## .risk

ref briefs rely on the mechanic to fetch them on demand. if a rule is ref'd and the mechanic never looks it up, it may violate that rule without awareness. mitigate via:
- hooks that enforce critical rules (gerunds, shouts, etc.) regardless of boot mode
- the mechanic's trained instinct to read ref paths when relevant

## .recommendation

apply these demotions, rebuild, and re-run the token comparison integration test to validate the reduction. if the mechanic's behavior degrades on any subject, promote the offenders back to say.
